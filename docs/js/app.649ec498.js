(function(){"use strict";var e={906:function(e,t,o){var i=Vue;const n=(0,i.createElementVNode)("div",{style:{"text-align":"center",margin:"15px"}},[(0,i.createElementVNode)("a",{type:"primary",href:"https://beian.miit.gov.cn/",target:"_blank"},"蜀ICP备17000680号"),(0,i.createTextVNode)(" @copyright 墨盒")],-1);function r(e,t){const o=(0,i.resolveComponent)("router-view");return(0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,null,[(0,i.createVNode)(o),n],64)}var l=o(744);const a={},s=(0,l.Z)(a,[["render",r]]);var c=s,d=VueRouter;const h={id:"covers-container"},m={style:{padding:"5px"},class:"text-ellipsis name"},u=["title"];function p(e,t,o,n,r,l){const a=(0,i.resolveComponent)("InkImg"),s=(0,i.resolveComponent)("Card"),c=(0,i.resolveComponent)("Col"),d=(0,i.resolveComponent)("Row");return(0,i.openBlock)(),(0,i.createElementBlock)("div",h,[(0,i.createVNode)(d,{gutter:20},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(r.covers,((e,t)=>((0,i.openBlock)(),(0,i.createBlock)(c,{key:t,xs:24,sm:12,md:6,lg:4,xl:3},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(s,{style:(0,i.normalizeStyle)({cursor:r.album?"auto":"pointer"}),onClick:t=>l.push(e.name),bordered:!1},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(a,{src:l.getImgUrl(e),style:{height:"160px","line-height":"160px"},imgStyle:{maxWidth:"100%",verticalAlign:"middle"}},null,8,["src"]),(0,i.createElementVNode)("div",m,[(0,i.createElementVNode)("span",{title:e.name},(0,i.toDisplayString)(e.name),9,u)])])),_:2},1032,["style","onClick"])])),_:2},1024)))),128))])),_:1})])}const f={class:"img-container"},g=(0,i.createElementVNode)("div",{style:{display:"none"}},"Loading",-1);function v(e,t,o,n,r,l){const a=(0,i.resolveComponent)("Icon"),s=(0,i.resolveComponent)("Spin"),c=(0,i.resolveComponent)("Image");return(0,i.openBlock)(),(0,i.createElementBlock)("div",f,[(0,i.createVNode)(c,{style:(0,i.normalizeStyle)(o.imgStyle),src:o.src,"preview-list":o.srcList,"initial-index":o.initialIndex,lazy:o.lazy,fit:"contain","referrer-policy":"no-referrer",onOnClick:l.click,onLoad:l.load,onError:l.load},{placeholder:(0,i.withCtx)((()=>[(0,i.createVNode)(s,{fix:""},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(a,{type:"ios-loading",class:"el-icon-loading"}),g])),_:1})])),error:(0,i.withCtx)((()=>[(0,i.createVNode)(a,{type:"ios-image-outline",size:"64",class:"el-icon-picture-outline"})])),_:1},8,["style","src","preview-list","initial-index","lazy","onOnClick","onLoad","onError"])])}var w={name:"InkImg",data(){return{isLoading:!0,realImgStyle:{},imagePreviewModal:!1}},mounted(){},methods:{load(){this.isLoading=!1,this.realImgStyle=Object.assign(this.realImgStyle,this.imgStyle),console.log("load success",this.isLoading,this.realImgStyle)},click(){this.imagePreviewModal=!0,console.log("click")}},props:{src:String,imgStyle:Object,lazy:{type:Boolean,default:!1},srcList:{type:Array,default:()=>[]},initialIndex:Number}};const k=(0,l.Z)(w,[["render",v]]);var y=k,x=o(121),I={components:{InkImg:y},data(){return{limit:{col:6,span:4},covers:[],album:null}},created(){document.title="墨明棋妙",this.getImages()},methods:{push(e){window.startLoading(),console.log("设置loading"),this.$router.push(encodeURIComponent(e))},getImgUrl(e){return e.url?e.url:`${location.protocol}//image.inkroom.cn/raw/${e.name}/${e.cover}`},getImages(){console.log("发送githu");x.Z.get(`${location.protocol}//image.inkroom.cn/raw/config.json?r=${Math.random()}`).then((e=>{console.log(e.data),e=e.data,this.covers=e})).catch((e=>{console.error(e),this.$alert("相册暂不可用")})).finally((e=>{window.hide()}))}}};const C=(0,l.Z)(I,[["render",p]]);var V=C;const b={id:"covers-container"},B={style:{"vertical-align":"bottom","font-size":"20px",color:"white"}},E={style:{padding:"5px"},class:"text-ellipsis name"},S=["title"];function O(e,t,o,n,r,l){const a=(0,i.resolveComponent)("InkImg"),s=(0,i.resolveComponent)("Card"),c=(0,i.resolveComponent)("Col"),d=(0,i.resolveComponent)("Row"),h=(0,i.resolveComponent)("InkImagePreview");return(0,i.openBlock)(),(0,i.createElementBlock)("div",b,[(0,i.createElementVNode)("div",null,[(0,i.createElementVNode)("span",B,"共 "+(0,i.toDisplayString)(r.covers.length)+" 张",1),(0,i.createElementVNode)("a",{href:"javascript:void(0);",onClick:t[0]||(t[0]=(...e)=>l.home&&l.home(...e)),style:{"font-size":"20px"},class:"el-link el-link--primary is-underline"},"首页")]),(0,i.createVNode)(d,{gutter:20},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(r.covers,((e,t)=>((0,i.openBlock)(),(0,i.createBlock)(c,{key:t,xs:24,sm:12,md:6,lg:4,xl:3},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(s,{style:(0,i.normalizeStyle)({cursor:r.album?"auto":"pointer"}),onClick:e=>l.click(t),bordered:!1},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(a,{src:e.download_url,srcList:l.srcList,style:{height:"160px","line-height":"160px"},imgStyle:{maxWidth:"100%",verticalAlign:"middle"},initialIndex:t,lazy:""},null,8,["src","srcList","initialIndex"]),(0,i.createElementVNode)("div",E,[(0,i.createElementVNode)("span",{title:e.name},(0,i.toDisplayString)(e.name),9,S)])])),_:2},1032,["style","onClick"])])),_:2},1024)))),128))])),_:1}),(0,i.createVNode)(h,{modelValue:r.imagePreviewModal,"onUpdate:modelValue":t[1]||(t[1]=e=>r.imagePreviewModal=e),"preview-list":l.srcList,"initial-index":r.initialIndex,referrerPolicy:"no-referrer"},null,8,["modelValue","preview-list","initial-index"])])}const M={key:0,class:"ivu-image-preview-fail"},N=["src","referrerpolicy"],z=(0,i.createElementVNode)("path",{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z","p-id":"7198",fill:"#ffffff"},null,-1),$=(0,i.createElementVNode)("path",{d:"M921 867L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z","p-id":"7199",fill:"#ffffff"},null,-1),L=[z,$],_=(0,i.createElementVNode)("path",{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z","p-id":"7413",fill:"#ffffff"},null,-1),P=(0,i.createElementVNode)("path",{d:"M921 867L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z","p-id":"7414",fill:"#ffffff"},null,-1),R=[_,P],U=(0,i.createElementVNode)("path",{d:"M358.058667 128H156.970667A28.970667 28.970667 0 0 0 128 157.013333v202.837334c0 7.978667 6.528 14.506667 14.506667 14.506666h43.434666a14.506667 14.506667 0 0 0 14.506667-14.506666V200.448h157.610667a14.506667 14.506667 0 0 0 14.506666-14.506667V142.506667a14.506667 14.506667 0 0 0-14.506666-14.506667zM881.493333 649.642667h-43.434666a14.506667 14.506667 0 0 0-14.506667 14.506666v159.402667h-157.610667a14.506667 14.506667 0 0 0-14.506666 14.506667v43.434666c0 7.978667 6.570667 14.506667 14.506666 14.506667h201.088c16 0 28.970667-12.928 28.970667-29.013333v-202.837334a14.506667 14.506667 0 0 0-14.506667-14.506666zM358.058667 823.552H200.448v-159.402667a14.506667 14.506667 0 0 0-14.506667-14.506666H142.506667a14.506667 14.506667 0 0 0-14.506667 14.506666v202.88c0 16 12.970667 28.970667 29.013333 28.970667h201.045334a14.506667 14.506667 0 0 0 14.506666-14.506667v-43.434666a14.506667 14.506667 0 0 0-14.506666-14.506667zM866.986667 128h-201.088a14.506667 14.506667 0 0 0-14.506667 14.506667v43.434666c0 7.978667 6.570667 14.506667 14.506667 14.506667h157.610666v159.402667c0 7.978667 6.528 14.506667 14.506667 14.506666h43.434667a14.506667 14.506667 0 0 0 14.506666-14.506666V156.970667A28.928 28.928 0 0 0 866.986667 128z","p-id":"26673",fill:"#ffffff"},null,-1),H=[U],Z=(0,i.createElementVNode)("path",{d:"M864 128H160c-19.2 0-32 12.8-32 32v704c0 19.2 12.8 32 32 32h704c19.2 0 32-12.8 32-32V160c0-19.2-12.8-32-32-32z m-32 704H192V192h640v640z","p-id":"1977",fill:"#ffffff"},null,-1),A=(0,i.createElementVNode)("path",{d:"M320 384v288c0 19.2 12.8 32 32 32s32-12.8 32-32V352c0-19.2-12.8-32-32-32h-32c-19.2 0-32 12.8-32 32s12.8 32 32 32zM640 384v288c0 19.2 12.8 32 32 32s32-12.8 32-32V352c0-19.2-12.8-32-32-32h-32c-19.2 0-32 12.8-32 32s12.8 32 32 32z","p-id":"1978",fill:"#ffffff"},null,-1),W=(0,i.createElementVNode)("path",{d:"M512 384m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z","p-id":"1979",fill:"#ffffff"},null,-1),j=(0,i.createElementVNode)("path",{d:"M512 640m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z","p-id":"1980",fill:"#ffffff"},null,-1),D=[Z,A,W,j],T=(0,i.createElementVNode)("path",{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32z m-44 402H188V494h440v326z m191.3-491.5c-78.8-100.7-196-153.6-314.6-154.2l-0.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7 0.4 12.6-6.1v-63.9c12.9 0.1 25.9 0.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8 11 40.7 14 82.7 8.9 124.8-0.7 5.4-1.4 10.8-2.4 16.1h74.9c14.8-103.6-11.3-213-81-302.3z","p-id":"13309",fill:"#ffffff"},null,-1),Y=[T],K=(0,i.createElementVNode)("path",{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-0.4-12.6 6.1l-0.2 64c-118.6 0.5-235.8 53.4-314.6 154.2-69.6 89.2-95.7 198.6-81.1 302.4h74.9c-0.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8zM880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32z m-44 402H396V494h440v326z","p-id":"13522",fill:"#ffffff"},null,-1),X=[K],F=(0,i.createElementVNode)("path",{d:"M505.7 621c3.2 4.1 9.4 4.1 12.6 0l112-141.7c4.1-5.2 0.4-12.9-6.3-12.9h-72.1V120c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v346.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z","p-id":"8826",fill:"#ffffff"},null,-1),G=(0,i.createElementVNode)("path",{d:"M903 516h-64c-4.4 0-8 3.6-8 8v300c0 4.4-3.6 8-8 8H199c-4.4 0-8-3.6-8-8V524c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v372c0 8.8 7.2 16 16 16h768c8.8 0 16-7.2 16-16V524c0-4.4-3.6-8-8-8z","p-id":"8827",fill:"#ffffff"},null,-1),J=[F,G],q={class:"ivu-image-preview-operations-item ivu-image-preview-operations-wait ivu-anim-loop",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7816",width:"200",height:"200"},Q=(0,i.createElementVNode)("path",{d:"M512 64c247.2 0 448 200.8 448 448h-64c0-212-172-384-384-384V64z m0 832c-212 0-384-172-384-384H64c0 247.2 200.8 448 448 448v-64z","p-id":"7817",fill:"#ffffff"},null,-1),ee=[Q];function te(e,t,o,n,r,l){const a=(0,i.resolveComponent)("Col"),s=(0,i.resolveComponent)("Row"),c=(0,i.resolveComponent)("Icon");return(0,i.openBlock)(),(0,i.createBlock)(i.Teleport,{to:"body",disabled:!o.transfer},[(0,i.createVNode)(i.Transition,{name:"fade"},{default:(0,i.withCtx)((()=>[o.modelValue?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"ivu-image-preview-mask",style:(0,i.normalizeStyle)(l.maskStyle)},null,4)):(0,i.createCommentVNode)("",!0)])),_:1}),(0,i.createVNode)(i.Transition,{name:"fade"},{default:(0,i.withCtx)((()=>[o.modelValue?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"ivu-image-preview-wrap",style:(0,i.normalizeStyle)(l.maskStyle)},[(0,i.createElementVNode)("div",(0,i.mergeProps)({class:"ivu-image-preview"},e.$attrs,{onClick:t[14]||(t[14]=(0,i.withModifiers)(((...e)=>l.handleClickMask&&l.handleClickMask(...e)),["stop"]))}),["failed"===r.status?((0,i.openBlock)(),(0,i.createElementBlock)("div",M,[(0,i.createElementVNode)("span",null,(0,i.toDisplayString)(l.failLang),1)])):(0,i.createCommentVNode)("",!0),((0,i.openBlock)(),(0,i.createElementBlock)("img",{class:(0,i.normalizeClass)(l.imgClasses),style:(0,i.normalizeStyle)(l.imageStyle),src:l.currentSrc,referrerpolicy:o.referrerPolicy,key:r.currentIndex.toString(),onClick:t[0]||(t[0]=(0,i.withModifiers)((()=>{}),["stop"])),onMousedown:t[1]||(t[1]=(0,i.withModifiers)(((...e)=>l.handleMousedown&&l.handleMousedown(...e)),["stop","prevent"])),onLoad:t[2]||(t[2]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e)),onError:t[3]||(t[3]=(...e)=>l.handleImageError&&l.handleImageError(...e))},null,46,N)),o.toolbar&&o.toolbar.length>0?((0,i.openBlock)(),(0,i.createBlock)(s,{key:1,"class-name":"ivu-image-preview-operations",wrap:!1,onClick:t[11]||(t[11]=(0,i.withModifiers)((()=>{}),["stop"]))},{default:(0,i.withCtx)((()=>[o.toolbar.indexOf("zoomIn")>-1?((0,i.openBlock)(),(0,i.createBlock)(a,{key:0,flex:"1",order:o.toolbar.indexOf("zoomIn")+1},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(),(0,i.createElementBlock)("svg",{class:"ivu-image-preview-operations-item",onClick:t[4]||(t[4]=(0,i.withModifiers)((e=>l.handleOperation("zoomIn")),["stop"])),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7197",width:"200",height:"200"},L))])),_:1},8,["order"])):(0,i.createCommentVNode)("",!0),o.toolbar.indexOf("zoomOut")>-1?((0,i.openBlock)(),(0,i.createBlock)(a,{key:1,flex:"1",order:o.toolbar.indexOf("zoomOut")+1},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(),(0,i.createElementBlock)("svg",{class:"ivu-image-preview-operations-item",onClick:t[5]||(t[5]=(0,i.withModifiers)((e=>l.handleOperation("zoomOut")),["stop"])),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7412",width:"200",height:"200"},R))])),_:1},8,["order"])):(0,i.createCommentVNode)("",!0),o.toolbar.indexOf("original")>-1?((0,i.openBlock)(),(0,i.createBlock)(a,{key:2,flex:"1",order:o.toolbar.indexOf("original")+1},{default:(0,i.withCtx)((()=>[(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("svg",{class:"ivu-image-preview-operations-item",onClick:t[6]||(t[6]=(0,i.withModifiers)((e=>l.handleOperation("original")),["stop"])),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26672",width:"200",height:"200"},H,512)),[[i.vShow,!this.original]]),(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("svg",{class:"ivu-image-preview-operations-item",onClick:t[7]||(t[7]=(0,i.withModifiers)((e=>l.handleOperation("original")),["stop"])),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1976",width:"200",height:"200"},D,512)),[[i.vShow,this.original]])])),_:1},8,["order"])):(0,i.createCommentVNode)("",!0),o.toolbar.indexOf("rotateLeft")>-1?((0,i.openBlock)(),(0,i.createBlock)(a,{key:3,flex:"1",order:o.toolbar.indexOf("rotateLeft")+1},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(),(0,i.createElementBlock)("svg",{class:"ivu-image-preview-operations-item",onClick:t[8]||(t[8]=(0,i.withModifiers)((e=>l.handleOperation("rotateLeft")),["stop"])),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13308",width:"200",height:"200"},Y))])),_:1},8,["order"])):(0,i.createCommentVNode)("",!0),o.toolbar.indexOf("rotateRight")>-1?((0,i.openBlock)(),(0,i.createBlock)(a,{key:4,flex:"1",order:o.toolbar.indexOf("rotateRight")+1},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(),(0,i.createElementBlock)("svg",{class:"ivu-image-preview-operations-item",onClick:t[9]||(t[9]=(0,i.withModifiers)((e=>l.handleOperation("rotateRight")),["stop"])),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13521",width:"200",height:"200"},X))])),_:1},8,["order"])):(0,i.createCommentVNode)("",!0),o.toolbar.indexOf("download")>-1?((0,i.openBlock)(),(0,i.createBlock)(a,{key:5,flex:"1",order:o.toolbar.indexOf("download")+1},{default:(0,i.withCtx)((()=>[(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("svg",{class:"ivu-image-preview-operations-item",onClick:t[10]||(t[10]=(0,i.withModifiers)((e=>l.handleOperation("download")),["stop"])),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8825",width:"200",height:"200"},J,512)),[[i.vShow,!r.downloading]]),(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("svg",q,ee,512)),[[i.vShow,r.downloading]])])),_:1},8,["order"])):(0,i.createCommentVNode)("",!0)])),_:1})):(0,i.createCommentVNode)("",!0),o.previewList.length>1?((0,i.openBlock)(),(0,i.createBlock)(c,{key:2,class:(0,i.normalizeClass)(l.leftClasses),type:"ios-arrow-back",onClick:t[12]||(t[12]=(0,i.withModifiers)((e=>l.handleSwitch(!1)),["stop"]))},null,8,["class"])):(0,i.createCommentVNode)("",!0),o.previewList.length>1?((0,i.openBlock)(),(0,i.createBlock)(c,{key:3,class:(0,i.normalizeClass)(l.rightClasses),type:"ios-arrow-forward",onClick:t[13]||(t[13]=(0,i.withModifiers)((e=>l.handleSwitch(!0)),["stop"]))},null,8,["class"])):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(c,{class:"ivu-image-preview-arrow-close",type:"md-close",onClick:(0,i.withModifiers)(l.handleClose,["stop"])},null,8,["onClick"])],16)],4)):(0,i.createCommentVNode)("",!0)])),_:1})],8,["disabled"])}var oe=o(809),ie=o(96),ne=o.n(ie),re=o(299),le=o(522),ae=o(788),se=o(942),ce=o(385),de={name:"InkImagePreview",mixins:[le.Z],inheritAttrs:!1,emits:["update:modelValue","on-close","on-switch"],props:{modelValue:{type:Boolean,default:!1},transfer:{type:Boolean,default(){const e=(0,i.getCurrentInstance)().appContext.config.globalProperties;return!(!e.$VIEWUI||""===e.$VIEWUI.transfer)&&e.$VIEWUI.transfer}},maskClosable:{type:Boolean,default:!0},previewList:{type:Array,default(){return[]}},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},toolbar:{type:Array,default(){const e=(0,i.getCurrentInstance)().appContext.config.globalProperties;return e.$VIEWUI&&e.$VIEWUI.image&&""!==e.$VIEWUI.image.toolbar?e.$VIEWUI.image.toolbar:["zoomIn","zoomOut","original","rotateLeft","rotateRight","download"]}},referrerPolicy:{type:String}},data(){return{currentIndex:0,scale:1,degree:0,translate:{x:0,y:0},startX:0,startY:0,transition:!0,original:!1,prevOverflow:"",status:"loading",zIndex:1e3,maskIndex:this.getMaskIndex(),downloading:!1}},computed:{imgClasses(){return["ivu-image-preview-image",{["ivu-image-preview-grabbing"]:!this.transition,["ivu-image-preview-hidden"]:"failed"===this.status,["ivu-image-preview-transition"]:this.transition,["ivu-image-preview-limit"]:!this.original}]},imageStyle(){let e=this.translate.x/this.scale,t=this.translate.y/this.scale;const o=this.degree%360;return[90,-270].includes(o)&&([e,t]=[t,-e]),[180,-180].includes(o)&&([e,t]=[-e,-t]),[270,-90].includes(o)&&([e,t]=[-t,e]),{transform:`\n                        scale(${this.scale})\n                        rotate(${this.degree}deg)\n                        translate(${e}px, ${t}px)\n                    `}},maskStyle(){return{zIndex:this.maskIndex+this.zIndex}},leftClasses(){return["ivu-image-preview-arrow-left",{["ivu-image-preview-arrow-disabled"]:this.hasLeftSwitchEnd}]},rightClasses(){return["ivu-image-preview-arrow-right",{["ivu-image-preview-arrow-disabled"]:this.hasRightSwitchEnd}]},hasRightSwitchEnd(){const{currentIndex:e,infinite:t,previewList:o}=this,i=o.length;return!t&&e>=i-1},hasLeftSwitchEnd(){const{currentIndex:e,infinite:t}=this;return!t&&0===e},currentSrc(){return this.previewList[this.currentIndex]},failLang(){return this.t("i.image.fail")}},methods:{resetStyle(){this.scale=1,this.degree=0,this.translate.x=0,this.translate.y=0},handleClose(){this.$emit("update:modelValue",!1),this.$emit("on-close")},handleClickMask(){this.maskClosable&&this.handleClose()},handleSwitch(e){e?this.currentIndex+1===this.previewList.length?this.infinite&&(this.resetStyle(),this.currentIndex=0):(this.resetStyle(),this.currentIndex+=1):0===this.currentIndex?this.infinite&&(this.resetStyle(),this.currentIndex=this.previewList.length-1):(this.resetStyle(),this.currentIndex-=1),this.$emit("on-switch",{currentIndex:this.currentIndex})},handleOperation(e){"zoomIn"===e&&this.scale<6&&(this.scale+=.25),"zoomOut"===e&&this.scale>.25&&(this.scale-=.25),"rotateLeft"===e&&(this.degree-=90),"rotateRight"===e&&(this.degree+=90),"original"===e&&(this.original=!this.original,this.transition=!1,this.resetStyle(),setTimeout((()=>{this.transition=!0}),0)),"download"===e&&(this.downloading=!0,(0,ce.Sv)(this.previewList[this.currentIndex]).then((()=>{this.downloading=!1})).catch((()=>{this.downloading=!1})))},handleKeydown(e){if(!this.modelValue)return;const{keyCode:t}=e;t===ae.Z.LEFT&&this.handleSwitch(!1),t===ae.Z.RIGHT&&this.handleSwitch(!0),t===ae.Z.UP&&this.handleOperation("zoomIn"),t===ae.Z.DOWN&&this.handleOperation("zoomOut"),t===ae.Z.SPACE&&(e.preventDefault(),this.original=!this.original)},handleKeyup(e){if(!this.modelValue)return;const{keyCode:t}=e;t===ae.Z.ESC&&this.handleClose()},handleWheel(e){if(!this.modelValue)return;const{deltaY:t}=e;this.handleOperation(t<0?"zoomIn":"zoomOut")},handleMousedown(e){const{pageX:t,pageY:o,which:i}=e;1===i&&(this.startX=t,this.startY=o,this.transition=!1,(0,oe.on)(document,"mousemove",this.handleMousemove),(0,oe.on)(document,"mouseup",this.handleMouseup))},handleMousemove:ne()((function(e){e.stopPropagation();const{pageX:t,pageY:o}=e;this.translate.x+=t-this.startX,this.translate.y+=o-this.startY,this.startX=t,this.startY=o})),handleMouseup(){this.transition=!0,(0,oe.S)(document,"mousemove",this.handleMousemove),(0,oe.S)(document,"mouseup",this.handleMouseup)},getBodyOverflow(){return re.C?document.body.style.overflow:""},setBodyOverflow(e){re.C&&(document.body.style.overflow=e)},handleImageLoad(){this.status="loaded"},handleImageError(){this.status="failed"},getMaskIndex(){return(0,se.kC)(),se.Iy}},watch:{modelValue(e){e?(this.currentIndex=this.initialIndex,this.resetStyle(),this.original=!1,this.prevOverflow=this.getBodyOverflow(),this.setBodyOverflow("hidden"),this.maskIndex=this.getMaskIndex()):this.setBodyOverflow(this.prevOverflow)},currentIndex(){this.status="loading"}},mounted(){(0,oe.on)(document,"keydown",this.handleKeydown),(0,oe.on)(document,"keyup",this.handleKeyup),(0,oe.on)(document,"wheel",this.handleWheel)},beforeUnmount(){(0,oe.S)(document,"keydown",this.handleKeydown),(0,oe.S)(document,"keyup",this.handleKeyup),(0,oe.S)(document,"wheel",this.handleWheel)}};const he=(0,l.Z)(de,[["render",te]]);var me=he,ue={components:{InkImg:y,InkImagePreview:me},data(){return{imagePreviewModal:!1,initialIndex:-1,style:"max-width:260px",limit:{col:6,span:4},url:{upload:`https://github.com/${{NODE_ENV:"production",BASE_URL:"/"}.AUTHOR}/${{NODE_ENV:"production",BASE_URL:"/"}.REPO}/upload/master/${decodeURIComponent(this.$route.params.album)}`},covers:[],title:"墨明棋妙",album:null,ismobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},watch:{title(e){document.title=this.title+" - "+e}},computed:{srcList(){return this.covers.map((e=>-1!=e.download_url.indexOf("@1e_1c.webp")?e.download_url.replace("@1e_1c.webp",""):`${location.protocol}//image.inkroom.cn/raw/${encodeURI(e.path)}`))}},unmounted(){window.removeEventListener("popstate",this.popstate)},created(){document.title=`${this.title} - ${this.$route.params.album}`,this.getImages()},methods:{click(e){this.initialIndex=e,this.imagePreviewModal=!0},home(){window.hide(),this.$router.push("/")},getImages(){x.Z.get(`${location.protocol}//image.inkroom.cn/raw/list/${this.$route.params.album}.list?r=${Math.random()}`).then((e=>{this.covers=e.data.split("\n").filter((e=>!!e&&e.length>1)).map((e=>{var t=e.split("-"),o=`${location.protocol}//image.inkroom.cn/raw/${encodeURI(this.$route.params.album)}/${encodeURI(e)}`;return t.length>1&&(o=JSON.parse(t[t.length-1]).result[0]),{path:`${this.$route.params.album}/${-1==e.indexOf("{")?e:e.substr(0,e.lastIndexOf("{")-1)}`,name:t[0].substr(0,e.lastIndexOf(".")),download_url:o}}))})).catch((e=>(console.log("降级了",e),x.Z.get(`${location.protocol}//image.inkroom.cn/list/${this.$route.params.album}/list?r=${Math.random()}`).then((e=>{this.covers=e.data.split("\r\n").map((e=>({path:`${this.$route.params.album}/${e}`,name:e.substr(0,e.lastIndexOf(".")),download_url:`${location.protocol}//image.inkroom.cn/raw/${encodeURI(this.$route.params.album)}/${encodeURI(e)}`})))}))))).catch((e=>{this.$alert(` ${this.$route.params.album} 暂不可用`),console.error(e)})).finally((e=>{console.log(this.covers),window.hide()}))},popstate(){return history.pushState(null,null,document.URL),this.dialog.visible=!1,window.removeEventListener("popstate",this.popstate),!1}}};const pe=(0,l.Z)(ue,[["render",O]]);var fe=pe;const ge=[{path:"/",name:"/",component:V},{path:"/:album",name:"/album",component:fe}],ve=(0,d.createRouter)({history:(0,d.createWebHistory)("/"),routes:ge});var we=ve,ke=ViewUIPlus,ye=o.n(ke);window.startLoading=()=>{console.log("loadingssss"),ke.Spin.show({render:e=>e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","正在努力加载中...")])})},window.hide=()=>{ke.Spin.hide()},startLoading(),(0,i.createApp)(c).use(we).use(ye()).mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,r){if(!i){var l=1/0;for(d=0;d<e.length;d++){i=e[d][0],n=e[d][1],r=e[d][2];for(var a=!0,s=0;s<i.length;s++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](i[s])}))?i.splice(s--,1):(a=!1,r<l&&(l=r));if(a){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,n,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,r,l=i[0],a=i[1],s=i[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(s)var d=s(o)}for(t&&t(i);c<l.length;c++)r=l[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},i=self["webpackChunkvue3"]=self["webpackChunkvue3"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(906)}));i=o.O(i)})();