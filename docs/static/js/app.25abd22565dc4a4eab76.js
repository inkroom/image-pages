webpackJsonp([1],{"+cgX":function(t,e){},BfJy:function(t,e){},C5IA:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},i,!1,function(t){n("C5IA")},null,null).exports,o=n("/ocq"),l=n("zL8q"),r=n.n(l),c={name:"InkImg",props:{src:String,imgStyle:String,loading:{type:Boolean,default:!0}},watch:{src:function(t){this.status="loading"}},data:function(){return{status:"loading"}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-container"},[t.loading&&"loading"==t.status?n("div",[n("i",{staticClass:"el-icon-loading"})]):t.loading&&"error"==t.status?n("div",[n("i",{staticClass:"el-icon-picture-outline"})]):t._e(),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:!t.loading||"normal"==t.status,expression:"!loading || status=='normal'"}],style:t.imgStyle,attrs:{src:t.src},on:{error:function(e){t.status="error"},load:function(e){t.status="normal"}}})])},staticRenderFns:[]};var m=n("VU/8")(c,u,!1,function(t){n("BfJy")},null,null).exports,d=n("mtWM"),g=n.n(d),p={components:{InkImg:m},data:function(){return{style:"max-width:260px",limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null}},watch:{title:function(t){document.title=t}},created:function(){document.title="墨盒的相册",this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t.name+"/"+t.cover},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=l.Loading.service({text:"正在努力加载中..."}),g.a.get("https://raw.githubusercontent.com/inkroom/image/master/config.json").then(function(e){console.log(e.data),e=e.data,t.covers=[];for(var n=0;n<Math.floor(e.length/t.limit.col);n++){for(var a=[],i=n*t.limit.col;i<(n+1)*t.limit.col;i++)a.push(e[i]);t.covers.push(a)}t.loadingInstance.close()}).catch(function(e){console.error(e),t.loadingInstance.close(),t.$alert("相册暂不可用")})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"covers-container"}},t._l(t.covers,function(e,a){return n("el-row",{key:a,attrs:{gutter:20}},t._l(e,function(e,a){return n("el-col",{key:a,attrs:{span:t.limit.span}},[n("router-link",{attrs:{to:e.name}},[n("el-card",{style:{cursor:t.album?"auto":"pointer"}},[n("InkImg",{staticStyle:{height:"160px"},attrs:{src:t.getImgUrl(e),imgStyle:t.style}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:e.name}},[t._v(t._s(e.name))])])],1)],1)],1)}),1)}),1)},staticRenderFns:[]};var v=n("VU/8")(p,h,!1,function(t){n("XeFA")},null,null).exports,f={components:{InkImg:m},data:function(){return{style:"max-width:260px",limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null,dialog:{visible:!1,album:null}}},watch:{title:function(t){document.title=t},loading:function(t,e){t?this.loadingInstance=l.Loading.service({text:"正在努力加载中..."}):this.loadingInstance.close()}},created:function(){document.title=this.$route.params.album,this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=l.Loading.service({text:"正在努力加载中..."}),g.a.get("https://api.github.com/repos/inkroom/image/contents/"+this.$route.params.album).then(function(e){e=e.data,t.covers=[];for(var n=0;n<Math.floor(e.length/t.limit.col);n++){for(var a=[],i=n*t.limit.col;i<(n+1)*t.limit.col;i++)a.push(e[i]);t.covers.push(a)}t.loadingInstance.close()}).catch(function(e){t.$alert(" "+t.$route.params.album+" 暂不可用"),t.loadingInstance.close()})},showImg:function(t){console.debug("开始请求");this.$createElement;this.dialog.album=t,this.dialog.visible=!0}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"covers-container"}},[t._l(t.covers,function(e,a){return n("el-row",{key:a,attrs:{gutter:20}},t._l(e,function(e,a){return n("el-col",{key:a,attrs:{span:t.limit.span}},[n("el-card",{style:{cursor:t.album?"auto":"pointer"},nativeOn:{click:function(n){return t.showImg(e)}}},[n("InkImg",{staticStyle:{height:"160px"},attrs:{src:e.download_url,imgStyle:t.style}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:e.name}},[t._v(t._s(e.name))])])],1)],1)}),1)}),t._v(" "),n("el-dialog",{attrs:{visible:t.dialog.visible,width:"30%","show-close":!1,"lock-scroll":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[t.dialog.visible?n("div",[n("InkImg",{attrs:{src:t.dialog.album.download_url,imgStyle:{width:"100%"}}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:t.dialog.album.name}},[t._v(t._s(t.dialog.album.name))])])],1):t._e()])],2)},staticRenderFns:[]};var _=n("VU/8")(f,I,!1,function(t){n("+cgX")},null,null).exports;a.default.use(o.a);var b=new o.a({mode:"hash",routes:[{path:"/",name:"/",component:v},{path:"/:album",name:"/album",component:_}]});n("xrLS");a.default.use(r.a),new a.default({el:"#app",router:b,components:{App:s},template:"<App/>"})},XeFA:function(t,e){},xrLS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.25abd22565dc4a4eab76.js.map