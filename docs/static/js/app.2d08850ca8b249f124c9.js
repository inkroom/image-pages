webpackJsonp([1],{"+Asx":function(t,n){},"2g8z":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("7+uW"),a={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var r=e("VU/8")({name:"App"},a,!1,function(t){e("a3mY")},null,null).exports,s=e("/ocq"),i=e("zL8q"),c=e.n(i),l={name:"InkImg",props:{src:String},watch:{src:function(t){this.status="loading"}},data:function(){return{status:"loading"}}},u={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"img-container"},["loading"==t.status?e("div",[e("i",{staticClass:"el-icon-loading"})]):"error"==t.status?e("div",[e("i",{staticClass:"el-icon-picture-outline"})]):t._e(),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:"normal"==t.status,expression:"status=='normal'"}],staticStyle:{"max-width":"260px"},attrs:{src:t.src},on:{error:function(n){t.status="error"},load:function(n){t.status="normal"}}})])},staticRenderFns:[]};var m=e("VU/8")(l,u,!1,function(t){e("2g8z")},null,null).exports,d=e("mtWM"),g=e.n(d),h={components:{InkImg:m},data:function(){return{limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null}},watch:{title:function(t){document.title=t}},created:function(){document.title="墨盒的相册",this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t.name+"/"+t.cover},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=i.Loading.service({text:"正在努力加载中..."}),g.a.get("https://raw.githubusercontent.com/inkroom/image/master/config.json").then(function(n){console.log(n.data),n=n.data,t.covers=[];for(var e=0;e<Math.floor(n.length/t.limit.col);e++){for(var o=[],a=e*t.limit.col;a<(e+1)*t.limit.col;a++)o.push(n[a]);t.covers.push(o)}t.loadingInstance.close()}).catch(function(n){console.error(n),t.loadingInstance.close(),t.$alert("相册暂不可用")})},showAlbum:function(t){this.album||(console.debug("开始请求"),this.title=t.name,this.album=t.name,console.log("获取相册的内容"),this.$router.push("/"+t.name))}}},p={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"covers-container"}},t._l(t.covers,function(n,o){return e("el-row",{key:o,attrs:{gutter:20}},t._l(n,function(n,o){return e("el-col",{key:o,attrs:{span:t.limit.span}},[e("router-link",{attrs:{to:n.name}},[e("el-card",{style:{cursor:t.album?"auto":"pointer"}},[e("InkImg",{staticStyle:{height:"160px"},attrs:{src:t.getImgUrl(n)}}),t._v(" "),e("div",{staticStyle:{padding:"14px"}},[e("span",[t._v(t._s(n.name))])])],1)],1)],1)}),1)}),1)},staticRenderFns:[]};var f=e("VU/8")(h,p,!1,function(t){e("mIeP")},null,null).exports,v={components:{InkImg:m},data:function(){return{limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null,loading:!0}},watch:{title:function(t){document.title=t},loading:function(t,n){t?this.loadingInstance=i.Loading.service({text:"正在努力加载中..."}):this.loadingInstance.close()}},created:function(){document.title=this.$route.params.album,this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=i.Loading.service({text:"正在努力加载中..."}),g.a.get("https://api.github.com/repos/inkroom/image/contents/"+this.$route.params.album).then(function(n){n=n.data,t.covers=[];for(var e=0;e<Math.floor(n.length/t.limit.col);e++){for(var o=[],a=e*t.limit.col;a<(e+1)*t.limit.col;a++)o.push(n[a]);t.covers.push(o)}t.loadingInstance.close()}).catch(function(n){t.$alert(" "+t.$route.params.album+" 暂不可用"),t.loadingInstance.close()})},showImg:function(t){console.debug("开始请求");this.$createElement;this.$alert('<img src="'+t.download_url+'" style="width:100%"/>',t.name,{dangerouslyUseHTMLString:!0})}}},I={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"covers-container"}},t._l(t.covers,function(n,o){return e("el-row",{key:o,attrs:{gutter:20}},t._l(n,function(n,o){return e("el-col",{key:o,attrs:{span:t.limit.span}},[e("el-card",{style:{cursor:t.album?"auto":"pointer"},nativeOn:{click:function(e){return t.showImg(n)}}},[e("InkImg",{staticStyle:{height:"160px"},attrs:{src:n.download_url}}),t._v(" "),e("div",{staticStyle:{padding:"14px"}},[e("span",[t._v(t._s(n.name))])])],1)],1)}),1)}),1)},staticRenderFns:[]};var _=e("VU/8")(v,I,!1,function(t){e("+Asx")},null,null).exports;o.default.use(s.a);var w=new s.a({mode:"hash",routes:[{path:"/",name:"/",component:f},{path:"/:album",name:"/album",component:_}]});e("xrLS");o.default.use(c.a),new o.default({el:"#app",router:w,components:{App:r},template:"<App/>"})},a3mY:function(t,n){},mIeP:function(t,n){},xrLS:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.2d08850ca8b249f124c9.js.map