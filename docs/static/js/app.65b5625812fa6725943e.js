webpackJsonp([1],{"2g8z":function(t,e){},IlTV:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},o,!1,function(t){n("afaw")},null,null).exports,s=n("/ocq"),i=n("zL8q"),l=n.n(i),c={name:"InkImg",props:{src:String},watch:{src:function(t){this.status="loading"}},data:function(){return{status:"loading"}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-container"},["loading"==t.status?n("div",[n("i",{staticClass:"el-icon-loading"})]):"error"==t.status?n("div",[n("i",{staticClass:"el-icon-picture-outline"})]):t._e(),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"normal"==t.status,expression:"status=='normal'"}],staticStyle:{"max-width":"260px"},attrs:{src:t.src},on:{error:function(e){t.status="error"},load:function(e){t.status="normal"}}})])},staticRenderFns:[]};var m=n("VU/8")(c,u,!1,function(t){n("2g8z")},null,null).exports,d=n("mtWM"),g=n.n(d),p={components:{InkImg:m},data:function(){return{limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null}},watch:{title:function(t){document.title=t}},created:function(){document.title="墨盒的相册",this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t.name+"/"+t.cover},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=i.Loading.service({text:"正在努力加载中..."}),g.a.get("https://raw.githubusercontent.com/inkroom/image/master/config.json").then(function(e){console.log(e.data),e=e.data,t.covers=[];for(var n=0;n<Math.floor(e.length/t.limit.col);n++){for(var a=[],o=n*t.limit.col;o<(n+1)*t.limit.col;o++)a.push(e[o]);t.covers.push(a)}t.loadingInstance.close()}).catch(function(e){console.error(e),t.loadingInstance.close(),t.$alert("相册暂不可用")})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"covers-container"}},t._l(t.covers,function(e,a){return n("el-row",{key:a,attrs:{gutter:20}},t._l(e,function(e,a){return n("el-col",{key:a,attrs:{span:t.limit.span}},[n("router-link",{attrs:{to:e.name}},[n("el-card",{style:{cursor:t.album?"auto":"pointer"}},[n("InkImg",{staticStyle:{height:"160px"},attrs:{src:t.getImgUrl(e)}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:e.name}},[t._v(t._s(e.name))])])],1)],1)],1)}),1)}),1)},staticRenderFns:[]};var f=n("VU/8")(p,h,!1,function(t){n("TILe")},null,null).exports,v={components:{InkImg:m},data:function(){return{limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null,loading:!0}},watch:{title:function(t){document.title=t},loading:function(t,e){t?this.loadingInstance=i.Loading.service({text:"正在努力加载中..."}):this.loadingInstance.close()}},created:function(){document.title=this.$route.params.album,this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=i.Loading.service({text:"正在努力加载中..."}),g.a.get("https://api.github.com/repos/inkroom/image/contents/"+this.$route.params.album).then(function(e){e=e.data,t.covers=[];for(var n=0;n<Math.floor(e.length/t.limit.col);n++){for(var a=[],o=n*t.limit.col;o<(n+1)*t.limit.col;o++)a.push(e[o]);t.covers.push(a)}t.loadingInstance.close()}).catch(function(e){t.$alert(" "+t.$route.params.album+" 暂不可用"),t.loadingInstance.close()})},showImg:function(t){console.debug("开始请求");this.$createElement;this.$alert('<img src="'+t.download_url+'" style="width:100%"/>',t.name,{dangerouslyUseHTMLString:!0})}}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"covers-container"}},t._l(t.covers,function(e,a){return n("el-row",{key:a,attrs:{gutter:20}},t._l(e,function(e,a){return n("el-col",{key:a,attrs:{span:t.limit.span}},[n("el-card",{style:{cursor:t.album?"auto":"pointer"},nativeOn:{click:function(n){return t.showImg(e)}}},[n("InkImg",{staticStyle:{height:"160px"},attrs:{src:e.download_url}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:e.name}},[t._v(t._s(e.name))])])],1)],1)}),1)}),1)},staticRenderFns:[]};var _=n("VU/8")(v,I,!1,function(t){n("IlTV")},null,null).exports;a.default.use(s.a);var w=new s.a({mode:"hash",routes:[{path:"/",name:"/",component:f},{path:"/:album",name:"/album",component:_}]});n("xrLS");a.default.use(l.a),new a.default({el:"#app",router:w,components:{App:r},template:"<App/>"})},TILe:function(t,e){},afaw:function(t,e){},xrLS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.65b5625812fa6725943e.js.map