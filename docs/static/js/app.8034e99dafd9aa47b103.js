webpackJsonp([1],{"2g8z":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var s=e("VU/8")({name:"App"},i,!1,function(t){e("a3mY")},null,null).exports,o=e("/ocq"),r={name:"InkImg",props:{src:String},watch:{src:function(t){this.status="loading"}},data:function(){return{status:"loading"}}},c={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"img-container"},["loading"==t.status?e("div",[e("i",{staticClass:"el-icon-loading"})]):"error"==t.status?e("div",[e("i",{staticClass:"el-icon-picture-outline"})]):t._e(),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:"normal"==t.status,expression:"status=='normal'"}],staticStyle:{"max-width":"260px"},attrs:{src:t.src},on:{error:function(n){t.status="error"},load:function(n){t.status="normal"}}})])},staticRenderFns:[]};var l=e("VU/8")(r,c,!1,function(t){e("2g8z")},null,null).exports,u=e("zL8q"),m=e.n(u),d=e("mtWM"),g=e.n(d),p={components:{InkImg:l},data:function(){return{limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null,loading:!0}},watch:{title:function(t){document.title=t},loading:function(t,n){t?this.loadingInstance=u.Loading.service({text:"正在努力加载中..."}):this.loadingInstance.close()}},created:function(){document.title="墨盒的相册",this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=u.Loading.service({text:"正在努力加载中..."}),(this.album?g.a.get("https://api.github.com/repos/inkroom/image/contents/"+this.album):g.a.get("https://api.github.com/repos/inkroom/image/contents/")).then(function(n){n=n.data,t.covers=[];for(var e=0;e<Math.floor(n.length/t.limit.col);e++){for(var a=[],i=e*t.limit.col;i<(e+1)*t.limit.col;i++)a.push(n[i]);t.covers.push(a)}t.loadingInstance.close()})},showAlbum:function(t){this.album||(console.debug("开始请求"),this.title=t.name,this.album=t.name,console.log("获取相册的内容"),this.getImages())}}},h={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"covers-container"}},t._l(t.covers,function(n,a){return e("el-row",{key:a,attrs:{gutter:20}},t._l(n,function(n,a){return e("el-col",{key:a,attrs:{span:t.limit.span}},[e("el-card",{style:{cursor:t.album?"auto":"pointer"},nativeOn:{click:function(e){return t.showAlbum(n)}}},[e("InkImg",{staticStyle:{height:"160px"},attrs:{src:n.download_url||t.getImgUrl(n.name+"/"+n.name+"01.jpg")}}),t._v(" "),e("div",{staticStyle:{padding:"14px"}},[e("span",[t._v(t._s(n.name))])])],1)],1)}),1)}),1)},staticRenderFns:[]};var f=e("VU/8")(p,h,!1,function(t){e("mjkc")},null,null).exports;a.default.use(o.a);var v=new o.a({mode:"hash",routes:[{path:"/",name:"/",component:f}]});e("xrLS");a.default.use(m.a),new a.default({el:"#app",router:v,components:{App:s},template:"<App/>"})},a3mY:function(t,n){},mjkc:function(t,n){},xrLS:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.8034e99dafd9aa47b103.js.map