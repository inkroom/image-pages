webpackJsonp([1],{"/fn2":function(t,e){},BfJy:function(t,e){},CQZj:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(t){n("CQZj")},null,null).exports,s=n("/ocq"),l=n("zL8q"),r=n.n(l),c={name:"InkImg",props:{src:String,imgStyle:String,loading:{type:Boolean,default:!0}},watch:{src:function(t){this.status="loading"}},data:function(){return{status:"loading"}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"img-container"},[t.loading&&"loading"==t.status?n("div",[n("i",{staticClass:"el-icon-loading"})]):t.loading&&"error"==t.status?n("div",[n("i",{staticClass:"el-icon-picture-outline"})]):t._e(),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:!t.loading||"normal"==t.status,expression:"!loading || status=='normal'"}],style:t.imgStyle,attrs:{src:t.src},on:{error:function(e){t.status="error"},load:function(e){t.status="normal"}}})])},staticRenderFns:[]};var m=n("VU/8")(c,u,!1,function(t){n("BfJy")},null,null).exports,d=n("mtWM"),g=n.n(d),p={components:{InkImg:m},data:function(){return{limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null}},watch:{title:function(t){document.title=t}},created:function(){document.title="墨盒的相册",this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t.name+"/"+t.cover},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=l.Loading.service({text:"正在努力加载中..."}),g.a.get("https://raw.githubusercontent.com/inkroom/image/master/config.json").then(function(e){console.log(e.data),e=e.data,t.covers=[];for(var n=0;n<Math.floor(e.length/t.limit.col);n++){for(var i=[],a=n*t.limit.col;a<(n+1)*t.limit.col;a++)i.push(e[a]);t.covers.push(i)}t.loadingInstance.close()}).catch(function(e){console.error(e),t.loadingInstance.close(),t.$alert("相册暂不可用")})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"covers-container"}},t._l(t.covers,function(e,i){return n("el-row",{key:i,attrs:{gutter:20}},t._l(e,function(e,i){return n("el-col",{key:i,attrs:{span:t.limit.span}},[n("router-link",{attrs:{to:e.name}},[n("el-card",{style:{cursor:t.album?"auto":"pointer"}},[n("InkImg",{staticStyle:{height:"160px","line-height":"160px"},attrs:{src:t.getImgUrl(e),imgStyle:{maxWidth:"100%",verticalAlign:"middle"}}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:e.name}},[t._v(t._s(e.name))])])],1)],1)],1)}),1)}),1)},staticRenderFns:[]};var v=n("VU/8")(p,h,!1,function(t){n("o+v3")},null,null).exports,f={components:{InkImg:m},data:function(){return{style:"max-width:260px",limit:{col:6,span:4},covers:[],title:"墨盒的相册",album:null,dialog:{visible:!1,album:null}}},watch:{title:function(t){document.title=t}},created:function(){document.title=this.$route.params.album,this.getImages()},methods:{getImgUrl:function(t){return"https://raw.githubusercontent.com/inkroom/image/master/"+t},getImages:function(){var t=this;console.log("发送githu");this.loadingInstance=l.Loading.service({text:"正在努力加载中..."}),g.a.get("https://api.github.com/repos/inkroom/image/contents/"+this.$route.params.album).then(function(e){e=e.data,t.covers=[];for(var n=0;n<Math.floor(e.length/t.limit.col);n++){for(var i=[],a=n*t.limit.col;a<(n+1)*t.limit.col;a++)i.push(e[a]);t.covers.push(i)}t.loadingInstance.close()}).catch(function(e){t.$alert(" "+t.$route.params.album+" 暂不可用"),t.loadingInstance.close()})},showImg:function(t){console.debug("开始请求");this.$createElement;this.dialog.album=t,this.dialog.visible=!0}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"covers-container"}},[t._l(t.covers,function(e,i){return n("el-row",{key:i,attrs:{gutter:20}},t._l(e,function(e,i){return n("el-col",{key:i,attrs:{span:t.limit.span}},[n("el-card",{style:{cursor:t.album?"auto":"pointer"},nativeOn:{click:function(n){return t.showImg(e)}}},[n("InkImg",{staticStyle:{height:"160px","line-height":"160px"},attrs:{src:e.download_url,imgStyle:{maxWidth:"100%",verticalAlign:"middle"}}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:e.name}},[t._v(t._s(e.name))])])],1)],1)}),1)}),t._v(" "),n("el-dialog",{attrs:{visible:t.dialog.visible,width:"30%","show-close":!1,"lock-scroll":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[t.dialog.visible?n("div",[n("InkImg",{attrs:{src:t.dialog.album.download_url,imgStyle:{width:"100%"}}}),t._v(" "),n("div",{staticClass:"text-ellipsis",staticStyle:{padding:"5px"}},[n("span",{attrs:{title:t.dialog.album.name}},[t._v(t._s(t.dialog.album.name))])])],1):t._e()])],2)},staticRenderFns:[]};var b=n("VU/8")(f,_,!1,function(t){n("/fn2")},null,null).exports;i.default.use(s.a);var I=new s.a({mode:"hash",routes:[{path:"/",name:"/",component:v},{path:"/:album",name:"/album",component:b}]});n("xrLS");i.default.use(r.a),new i.default({el:"#app",router:I,components:{App:o},template:"<App/>"})},"o+v3":function(t,e){},xrLS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cd26e85683a54dcf79b2.js.map